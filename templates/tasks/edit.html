{% extends "base.html" %}

{% block content %}
  <h2>Edit Task</h2>
  <form method="POST" action="{{ url_for('tasks.edit_item', id=item.id) }}">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" value="{{ item.name }}" required>

    <label for="goal">Goal:</label>
    <textarea id="goal" name="goal">{{ item.goal }}</textarea>

    <label for="principle">Principle:</label>
    <textarea id="principle" name="principle">{{ item.principle }}</textarea>

    <label for="protocol_text">Protocol:</label>
    <textarea id="protocol_text" name="protocol_text">{{ item.protocol_text }}</textarea>

    <label for="time_required">Time Required:</label>
    <input type="number" id="time_required" name="time_required" step="0.1" value="{{ item.time_required }}">

    <label for="time_required_unit">Time Required Unit:</label>
    <input type="text" id="time_required_unit" name="time_required_unit" value="{{ item.time_required_unit }}">

    <label for="funding">Funding:</label>
    <input type="number" id="funding" name="funding" step="0.1" value="{{ item.funding }}">

    <label for="benefits">Benefits:</label>
    <input type="number" id="benefits" name="benefits" step="0.1" value="{{ item.benefits }}">

    <label for="time_to_sell">Time to Sell:</label>
    <input type="number" id="time_to_sell" name="time_to_sell" step="0.1" value="{{ item.time_to_sell }}">

    <label for="time_to_sell_unit">Time to Sell Unit:</label>
    <input type="text" id="time_to_sell_unit" name="time_to_sell_unit" value="{{ item.time_to_sell_unit }}">

    <label for="due_date">Due Date:</label>
    <input type="date" id="due_date" name="due_date" value="{{ item.due_date }}">

    <label for="planned_date">Planned Date:</label>
    <input type="date" id="planned_date" name="planned_date" value="{{ item.planned_date }}">

    <label for="recurrence">Recurrence:</label>
    <input type="text" id="recurrence" name="recurrence" value="{{ item.recurrence }}">

    <label for="materials">Materials:</label>
    <input type="text" id="materials" name="material_names[]" value="{{ item.materials|map(attribute='name')|join(', ') }}">
    <input type="number" id="materials_quantity" name="material_quantities[]">

    <label for="consumables">Consumables:</label>
    <input type="text" id="consumables" name="consumable_names[]" value="{{ item.consumables|map(attribute='name')|join(', ') }}">
    <input type="number" id="consumables_quantity" name="consumable_quantities[]">

    <label for="protections">Protections:</label>
    <input type="text" id="protections" name="protection_names[]" value="{{ item.protections|map(attribute='name')|join(', ') }}">
    <input type="number" id="protections_quantity" name="protection_quantities[]">

    <label for="prerequisites">Prerequisites:</label>
    <input type="text" id="prerequisites" name="prerequisite_names[]" value="{{ item.prerequisites|map(attribute='name')|join(', ') }}">

    <button type="submit">Update</button>
  </form>
{% endblock %}
